<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hospital Leave Request System</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
</head>
<body>
  <div id="loading-animation">
    <div class="hospital-icon">üè•</div>
    <div class="loading-text">Hospital Staff Portal</div>
    <div class="loading-subtext">Initializing System...</div>
  </div>

  <div class="container" id="login-container" style="display:none;">
    <h2>Hospital Staff Login</h2>
    <div class="form-group">
      <label for="employee-id">Employee ID:</label>
      <input id="employee-id" type="text" placeholder="Enter your employee ID" />
    </div>
    <button onclick="verifyEmployee()">Login</button>
    <div id="login-message" class="message"></div>
    <div class="links">
      <a href="#" onclick="showHrLogin()">HR Manager Login</a>
    </div>
  </div>

  <div class="container" id="request-container" style="display:none;">
    <h2>Leave Request Form</h2>
    <div class="staff-info">
      <p><strong>Employee:</strong> <span id="display-name"></span></p>
      <p><strong>ID:</strong> <span id="display-id"></span></p>
    </div>
    <div class="form-group">
      <label for="leave-type">Leave Type:</label>
      <select id="leave-type">
        <option value="Vacation">Vacation Leave</option>
        <option value="Sick">Sick Leave</option>
        <option value="Emergency">Emergency Leave</option>
        <option value="Maternity">Maternity Leave</option>
        <option value="Paternity">Paternity Leave</option>
      </select>
    </div>
    <div class="form-group">
      <label for="start-date">Start Date:</label>
      <input id="start-date" type="date" onchange="calculateEndDate()" />
    </div>
    <div class="form-group">
      <label for="total-days">Total Days:</label>
      <input id="total-days" type="number" min="1" value="1" onchange="calculateEndDate()" />
    </div>
    <div class="form-group">
      <label for="end-date">End Date:</label>
      <input id="end-date" type="date" readonly />
    </div>
    <div class="form-group">
      <label for="reason">Reason:</label>
      <textarea id="reason" rows="3" placeholder="Brief reason for leave"></textarea>
    </div>
    <button onclick="submitRequest()">Submit Request</button>
    <button onclick="showStatusPage()" class="status-btn">Check Status</button>
    <button onclick="logout()" class="logout-btn">Logout</button>
    <div id="message" class="message"></div>
  </div>

  <div class="container" id="status-container" style="display:none;">
    <h2>My Leave Requests</h2>
    <div class="staff-info">
      <p><strong>Employee:</strong> <span id="status-name"></span></p>
      <p><strong>ID:</strong> <span id="status-id"></span></p>
    </div>
    <div id="requests-list"></div>
    <button onclick="backToRequestForm()">Back to Request Form</button>
    <button onclick="logout()" class="logout-btn">Logout</button>
  </div>

  <div class="container" id="hr-login-container" style="display:none;">
    <h2>HR Manager Login</h2>
    <div class="form-group">
      <label for="hr-id">HR ID:</label>
      <input id="hr-id" type="text" placeholder="Enter your HR ID" />
    </div>
    <div class="form-group">
      <label for="hr-password">Password:</label>
      <input id="hr-password" type="password" placeholder="Enter your password" />
    </div>
    <button onclick="verifyHr()">Login</button>
    <button onclick="backToEmployeeLogin()">Back to Employee Login</button>
    <div id="hr-login-message" class="message"></div>
  </div>

  <div class="container" id="hr-approval-container" style="display:none;">
    <h2>Staff Management Dashboard</h2>
    <div class="hr-info">
      <p><strong>HR Manager:</strong> <span id="hr-name"></span></p>
    </div>
    <div class="hr-tabs">
      <button id="tab-active" class="active" onclick="switchHrTab('active')">Active Staff</button>
      <button id="tab-onleave" onclick="switchHrTab('onleave')">On Leave</button>
      <button id="tab-pending" onclick="switchHrTab('pending')">Pending Approvals</button>
    </div>
    
    <div id="active-section">
      <div class="stats-summary">
        <div class="stat-card">
          <h3>Active Staff</h3>
          <div class="stat-value" id="active-count">0</div>
        </div>
      </div>
      <div class="table-container">
        <table id="active-staff-table">
          <thead>
            <tr>
              <th>Employee ID</th><th>Name</th>
            </tr>
          </thead>
          <tbody id="active-staff-body">
            <tr><td colspan="2" class="loading">Loading active staff...</td></tr>
          </tbody>
        </table>
      </div>
    </div>
    
    <div id="onleave-section" style="display:none;">
      <div class="stats-summary">
        <div class="stat-card">
          <h3>On Leave</h3>
          <div class="stat-value" id="onleave-count">0</div>
        </div>
      </div>
      <div class="table-container">
        <table id="onleave-staff-table">
          <thead>
            <tr>
              <th>Employee</th><th>Leave Type</th><th>Start Date</th><th>Return Date</th>
            </tr>
          </thead>
          <tbody id="onleave-staff-body">
            <tr><td colspan="4" class="loading">Loading staff on leave...</td></tr>
          </tbody>
        </table>
      </div>
    </div>
    
    <div id="pending-section" style="display:none;">
      <div class="table-container">
        <table id="pending-requests-table">
          <thead>
            <tr>
              <th>Employee</th><th>Leave Type</th><th>Start Date</th><th>Return Date</th><th>Reason</th><th>Actions</th>
            </tr>
          </thead>
          <tbody id="pending-requests-body">
            <tr><td colspan="6" class="loading">Loading requests...</td></tr>
          </tbody>
        </table>
      </div>
    </div>
    
    <button onclick="hrLogout()" class="logout-btn">Logout</button>
  </div>

  <script src="script.js"></script>
  <script>
    setTimeout(() => {
      document.getElementById('loading-animation').style.display = 'none';
      document.getElementById('login-container').style.display = 'block';
      document.getElementById('login-container').classList.add('animate__fadeIn');
    }, 2000);
  </script>
</body>
</html>